# ã‚¨ã‚¢ãƒ›ãƒƒã‚±ãƒ¼ã‚²ãƒ¼ãƒ  - ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚¬ã‚¤ãƒ‰

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€ç„¡æ–™ã§ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚²ãƒ¼ãƒ ã‚’å…¬é–‹ã™ã‚‹æ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚

## ğŸ“‹ ç›®æ¬¡

1. [æº–å‚™](#æº–å‚™)
2. [ã‚ªãƒ—ã‚·ãƒ§ãƒ³1: Render + GitHub Pagesï¼ˆæ¨å¥¨ï¼‰](#ã‚ªãƒ—ã‚·ãƒ§ãƒ³1-render--github-pagesæ¨å¥¨)
3. [ã‚ªãƒ—ã‚·ãƒ§ãƒ³2: Railway + Vercel](#ã‚ªãƒ—ã‚·ãƒ§ãƒ³2-railway--vercel)
4. [ã‚ªãƒ—ã‚·ãƒ§ãƒ³3: Fly.io + Netlify](#ã‚ªãƒ—ã‚·ãƒ§ãƒ³3-flyio--netlify)
5. [ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ](#ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ)

---

## æº–å‚™

### å¿…è¦ãªã‚‚ã®
- GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆç„¡æ–™ï¼‰
- Node.js 18ä»¥ä¸Šï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆç”¨ï¼‰

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ
```
web_version/
â”œâ”€â”€ server/           # ã‚µãƒ¼ãƒãƒ¼å´ï¼ˆNode.jsï¼‰
â”‚   â”œâ”€â”€ server.js
â”‚   â”œâ”€â”€ physics.js
â”‚   â””â”€â”€ package.json
â””â”€â”€ client/           # ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ï¼ˆHTML/CSS/JSï¼‰
    â”œâ”€â”€ index.html
    â”œâ”€â”€ game.js
    â””â”€â”€ style.css
```

---

## ã‚ªãƒ—ã‚·ãƒ§ãƒ³1: Render + GitHub Pagesï¼ˆæ¨å¥¨ï¼‰

### âœ… ãƒ¡ãƒªãƒƒãƒˆ
- å®Œå…¨ç„¡æ–™
- è¨­å®šãŒç°¡å˜
- è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

### ğŸ”§ æ‰‹é †

#### 1. GitHubãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆ

```bash
# web_versionãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•
cd web_version

# Gitãƒªãƒã‚¸ãƒˆãƒªåˆæœŸåŒ–
git init
git add .
git commit -m "Initial commit"

# GitHubã§æ–°ã—ã„ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆå¾Œ
git remote add origin https://github.com/YOUR_USERNAME/hockey-game.git
git branch -M main
git push -u origin main
```

#### 2. ã‚µãƒ¼ãƒãƒ¼ã‚’Renderã«ãƒ‡ãƒ—ãƒ­ã‚¤

1. [Render](https://render.com)ã«ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ï¼ˆGitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§å¯ï¼‰
2. ã€ŒNew +ã€â†’ã€ŒWeb Serviceã€ã‚’é¸æŠ
3. GitHubãƒªãƒã‚¸ãƒˆãƒªã‚’æ¥ç¶š
4. ä»¥ä¸‹ã®è¨­å®šã‚’å…¥åŠ›ï¼š
   - **Name**: `hockey-game-server`
   - **Root Directory**: `server`
   - **Environment**: `Node`
   - **Build Command**: `npm install`
   - **Start Command**: `npm start`
   - **Plan**: `Free`

5. ã€ŒCreate Web Serviceã€ã‚’ã‚¯ãƒªãƒƒã‚¯

6. ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†å¾Œã€URLã‚’ãƒ¡ãƒ¢ï¼ˆä¾‹: `https://hockey-game-server.onrender.com`ï¼‰

#### 3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’GitHub Pagesã«ãƒ‡ãƒ—ãƒ­ã‚¤

1. `client/game.js`ã‚’ç·¨é›†ã—ã€SERVER_URLã‚’æ›´æ–°ï¼š

```javascript
const SERVER_URL = 'https://hockey-game-server.onrender.com';
```

2. GitHubãƒªãƒã‚¸ãƒˆãƒªã®ã€ŒSettingsã€â†’ã€ŒPagesã€
3. Source: `Deploy from a branch`
4. Branch: `main`ã€ãƒ•ã‚©ãƒ«ãƒ€: `/client`
5. ã€ŒSaveã€ã‚’ã‚¯ãƒªãƒƒã‚¯

6. æ•°åˆ†å¾Œã€`https://YOUR_USERNAME.github.io/hockey-game/`ã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½

#### 4. CORSè¨­å®šï¼ˆæ—¢ã«è¨­å®šæ¸ˆã¿ï¼‰

`server/server.js`ã®CORSè¨­å®šã‚’ç¢ºèªï¼š
```javascript
const io = socketIO(server, {
  cors: {
    origin: "*",  // æœ¬ç•ªç’°å¢ƒã§ã¯ç‰¹å®šã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æŒ‡å®šæ¨å¥¨
    methods: ["GET", "POST"]
  }
});
```

---

## ã‚ªãƒ—ã‚·ãƒ§ãƒ³2: Railway + Vercel

### âœ… ãƒ¡ãƒªãƒƒãƒˆ
- Railwayã¯é«˜é€Ÿ
- Vercelã¯æœ€é©åŒ–ãŒå„ªã‚Œã¦ã„ã‚‹

### ğŸ”§ æ‰‹é †

#### 1. ã‚µãƒ¼ãƒãƒ¼ã‚’Railwayã«ãƒ‡ãƒ—ãƒ­ã‚¤

1. [Railway](https://railway.app)ã«ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—
2. ã€ŒNew Projectã€â†’ã€ŒDeploy from GitHub repoã€
3. ãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠ
4. ã€ŒDeploy Nowã€ã‚’ã‚¯ãƒªãƒƒã‚¯
5. ã€ŒSettingsã€â†’ã€ŒRoot Directoryã€ã‚’`server`ã«è¨­å®š
6. ãƒ‡ãƒ—ãƒ­ã‚¤URLã‚’ãƒ¡ãƒ¢

#### 2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’Vercelã«ãƒ‡ãƒ—ãƒ­ã‚¤

1. [Vercel](https://vercel.com)ã«ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—
2. ã€ŒNew Projectã€â†’GitHubãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠ
3. ä»¥ä¸‹ã®è¨­å®šï¼š
   - **Root Directory**: `client`
   - **Framework Preset**: `Other`
4. ã€ŒDeployã€ã‚’ã‚¯ãƒªãƒƒã‚¯
5. ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã€`client/game.js`ã®SERVER_URLã‚’æ›´æ–°ã—ã¦ã‚³ãƒŸãƒƒãƒˆ

---

## ã‚ªãƒ—ã‚·ãƒ§ãƒ³3: Fly.io + Netlify

### âœ… ãƒ¡ãƒªãƒƒãƒˆ
- ã‚°ãƒ­ãƒ¼ãƒãƒ«CDN
- ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³å¯¾å¿œ

### ğŸ”§ æ‰‹é †

#### 1. ã‚µãƒ¼ãƒãƒ¼ã‚’Fly.ioã«ãƒ‡ãƒ—ãƒ­ã‚¤

1. [Fly.io CLI](https://fly.io/docs/hands-on/install-flyctl/)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—: `flyctl auth signup`
3. `server/`ãƒ•ã‚©ãƒ«ãƒ€ã«`fly.toml`ã‚’ä½œæˆï¼š

```toml
app = "hockey-game-server"

[build]
  builder = "heroku/buildpacks:20"

[[services]]
  internal_port = 3000
  protocol = "tcp"

  [[services.ports]]
    port = 80
    handlers = ["http"]

  [[services.ports]]
    port = 443
    handlers = ["tls", "http"]
```

4. ãƒ‡ãƒ—ãƒ­ã‚¤:
```bash
cd server
flyctl launch
flyctl deploy
```

#### 2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’Netlifyã«ãƒ‡ãƒ—ãƒ­ã‚¤

1. [Netlify](https://netlify.com)ã«ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—
2. ã€ŒAdd new siteã€â†’ã€ŒImport an existing projectã€
3. GitHubãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠ
4. è¨­å®šï¼š
   - **Base directory**: `client`
   - **Build command**: ï¼ˆç©ºç™½ï¼‰
   - **Publish directory**: `.`
5. ã€ŒDeploy siteã€ã‚’ã‚¯ãƒªãƒƒã‚¯

---

## ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ

### ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•

```bash
cd server
npm install
npm start
```

ã‚µãƒ¼ãƒãƒ¼ãŒ`http://localhost:3000`ã§èµ·å‹•ã—ã¾ã™ã€‚

### ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’é–‹ã

1. `client/index.html`ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§ç›´æ¥é–‹ãã€ã¾ãŸã¯
2. Live Serverãªã©ã‚’ä½¿ç”¨

è¤‡æ•°ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§é–‹ã„ã¦ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ãƒ†ã‚¹ãƒˆã€‚

---

## ğŸ® ã‚²ãƒ¼ãƒ ã®éŠã³æ–¹

1. ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆURLã«ã‚¢ã‚¯ã‚»ã‚¹
2. ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã‚’å…¥åŠ›
3. 2äººç›®ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒå‚åŠ ã™ã‚‹ã¾ã§å¾…ã¤
4. ä¸¡ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒã€ŒReadyã€ã‚’ã‚¯ãƒªãƒƒã‚¯
5. ã‚²ãƒ¼ãƒ é–‹å§‹ï¼

### æ“ä½œæ–¹æ³•
- **ãƒã‚¦ã‚¹ç§»å‹•**: ãƒ‘ãƒ‰ãƒ«ã‚’å‹•ã‹ã™
- **å·¦ã‚¯ãƒªãƒƒã‚¯ï¼ˆé•·æŠ¼ã—ï¼‰**: å·¦å›è»¢
- **å³ã‚¯ãƒªãƒƒã‚¯ï¼ˆé•·æŠ¼ã—ï¼‰**: å³å›è»¢
- **ã‚¯ãƒªãƒƒã‚¯**: Ready / Play Again

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã§ããªã„

1. ã‚µãƒ¼ãƒãƒ¼URLãŒæ­£ã—ã„ã‹ç¢ºèª
2. ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ï¼ˆF12ï¼‰ã§ã‚¨ãƒ©ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯
3. CORSè¨­å®šã‚’ç¢ºèª

### Renderã®ç„¡æ–™ãƒ—ãƒ©ãƒ³ã§ã‚¹ãƒªãƒ¼ãƒ—ã™ã‚‹

Renderã®ç„¡æ–™ãƒ—ãƒ©ãƒ³ã¯15åˆ†é–“ã‚¢ã‚¯ã‚»ã‚¹ãŒãªã„ã¨ã‚¹ãƒªãƒ¼ãƒ—ã—ã¾ã™ã€‚
- åˆå›ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã¯èµ·å‹•ã«30ç§’ã»ã©ã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™
- å®šæœŸçš„ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹cronã‚¸ãƒ§ãƒ–ã‚’è¨­å®šå¯èƒ½ï¼ˆåˆ¥é€”è¨­å®šå¿…è¦ï¼‰

### GitHub PagesãŒ404ã‚¨ãƒ©ãƒ¼

1. ãƒªãƒã‚¸ãƒˆãƒªè¨­å®šã§ã€ŒPagesã€ãŒæœ‰åŠ¹ã‹ç¢ºèª
2. ãƒ–ãƒ©ãƒ³ãƒã¨ãƒ•ã‚©ãƒ«ãƒ€ãŒæ­£ã—ã„ã‹ç¢ºèª
3. æ•°åˆ†å¾…ã£ã¦ã‹ã‚‰å†ã‚¢ã‚¯ã‚»ã‚¹

---

## ğŸ’¡ ãƒ’ãƒ³ãƒˆ

### ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ä½¿ã†

- GitHub Pages: Settings â†’ Pages â†’ Custom domain
- Vercel: Project Settings â†’ Domains
- Render: Settings â†’ Custom Domain

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„

1. Renderã®æœ‰æ–™ãƒ—ãƒ©ãƒ³ï¼ˆ$7/æœˆï¼‰ã§ã‚¹ãƒªãƒ¼ãƒ—ã‚’ç„¡åŠ¹åŒ–
2. CDNã‚’ä½¿ç”¨ï¼ˆCloudflareç­‰ï¼‰
3. åœ°ç†çš„ã«è¿‘ã„ã‚µãƒ¼ãƒãƒ¼ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã‚’é¸æŠ

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–

1. CORSè¨­å®šã‚’ç‰¹å®šãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã¿ã«åˆ¶é™
2. ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚’è¿½åŠ 
3. ç’°å¢ƒå¤‰æ•°ã§ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’ç®¡ç†

---

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

- [Render Documentation](https://render.com/docs)
- [GitHub Pages](https://pages.github.com/)
- [Vercel Documentation](https://vercel.com/docs)
- [Railway Documentation](https://docs.railway.app/)
- [Fly.io Documentation](https://fly.io/docs/)
- [Socket.IO Documentation](https://socket.io/docs/)

---

## â“ FAQ

**Q: ç„¡æ–™ã§ä½•äººã¾ã§åŒæ™‚ãƒ—ãƒ¬ã‚¤ã§ãã¾ã™ã‹ï¼Ÿ**
A: Renderã®ç„¡æ–™ãƒ—ãƒ©ãƒ³ã§ã¯æ•°åäººç¨‹åº¦ã¯å•é¡Œãªãå‹•ä½œã—ã¾ã™ã€‚ãŸã ã—ã€åŒæ™‚ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¯2äººï¼ˆ+è¦³æˆ¦è€…ï¼‰ã®ã‚²ãƒ¼ãƒ è¨­è¨ˆã§ã™ã€‚

**Q: ãƒ¢ãƒã‚¤ãƒ«ã§ã‚‚ãƒ—ãƒ¬ã‚¤ã§ãã¾ã™ã‹ï¼Ÿ**
A: ã‚¿ãƒƒãƒæ“ä½œã«ã¯æœªå¯¾å¿œã§ã™ãŒã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç­‰ã®ãƒã‚¦ã‚¹å¯¾å¿œãƒ‡ãƒã‚¤ã‚¹ã§ã¯å‹•ä½œã—ã¾ã™ã€‚

**Q: ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ãŸã„**
A: `server/server.js`ã‚’ç·¨é›†å¾Œã€Gitã«ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚Œã°RenderãŒè‡ªå‹•ã§å†ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚

**Q: ã©ã®çµ„ã¿åˆã‚ã›ãŒãƒ™ã‚¹ãƒˆã§ã™ã‹ï¼Ÿ**
A: **Render + GitHub Pages**ãŒæœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã§æ¨å¥¨ã§ã™ã€‚

---

æ¥½ã—ã„ã‚²ãƒ¼ãƒ ãƒ©ã‚¤ãƒ•ã‚’ï¼ğŸ’âœ¨
